tables User, Contact, Group

связь

contact_users.rb
class User
	has_many :user_contacts
	has_many :contacts, :through => :user_contacts
	belongs_to :group
	has_one :profile
end

User.first.contacts
User.first.contacts=[Contact.new]
User.first.contacts << Contact.new

bad variant: 
User.first.group = Group.new
good variant:
group = Group.new
group.users << user.first

user.first.profile = Profile.new


class Contact
	has_many :user_contacts
	has_many :users, :through => :user_contacts
end

class Group
	has_many :users
end

class UserContact
	has_many :users
	has_many :contacts
end
